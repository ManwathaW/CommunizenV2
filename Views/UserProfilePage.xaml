<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CommuniZEN.Views.UserProfilePage"
                          xmlns:converters="clr-namespace:CommuniZEN.Converters"   
             xmlns:viewmodels="clr-namespace:CommuniZEN.ViewModels"
             Shell.NavBarIsVisible="False"
             Title="UserProfilePage">
    <ContentPage.Resources>
        <ResourceDictionary>

            <converters:BoolToColorConverter x:Key="BoolToColorConverter"/>
            <converters:InverseBoolConverter x:Key="InverseBoolConverter"/>
            <converters:StatusColorConverter x:Key="StatusColorConverter"/>
            <converters:Base64ToImageSourceConverter x:Key="Base64ToImageSourceConverter"/>

            <Style x:Key="TabButtonStyle" TargetType="Button">
                <Setter Property="HeightRequest" Value="40"/>
                <Setter Property="CornerRadius" Value="8"/>
                <Setter Property="Margin" Value="5"/>
                <Setter Property="FontSize" Value="17"/>
            </Style>
            <Style x:Key="CardStyle" TargetType="Frame">
                <Setter Property="BackgroundColor" Value="White"/>
                <Setter Property="CornerRadius" Value="10"/>
                <Setter Property="Margin" Value="15"/>
                <Setter Property="Padding" Value="15"/>
                <Setter Property="BorderColor" Value="#E2E8F0"/>
                <Setter Property="HasShadow" Value="True"/>
            </Style>
            <Style x:Key="HeaderLabelStyle" TargetType="Label">
                <Setter Property="FontSize" Value="13"/>
                <Setter Property="TextColor" Value="#2C5282"/>
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="Margin" Value="0,0,0,10"/>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid RowDefinitions="Auto,*">
        <!-- Tab Buttons -->
        <Grid Grid.Row="0" 
              Margin="0,-5,0,0"
              ColumnDefinitions="*,*" 
              Padding="0"
              BackgroundColor="White">
            <Button Text="Book Appointment"
                    Grid.Column="0"
                    Style="{StaticResource TabButtonStyle}"
                    BackgroundColor="{Binding IsBookingTabSelected, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#4299E1,#EDF2F7'}"
                    TextColor="{Binding IsBookingTabSelected, Converter={StaticResource BoolToColorConverter}, ConverterParameter='White,#2C5282'}"
                    Command="{Binding SwitchTabCommand}"
                    CommandParameter="0"
                    Margin="5"/>

            <Button Text="My Appointments"
                    Grid.Column="1"
                     Style="{StaticResource TabButtonStyle}"
                    BackgroundColor="{Binding IsBookingTabSelected, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#EDF2F7,#4299E1'}"
                    TextColor="{Binding IsBookingTabSelected, Converter={StaticResource BoolToColorConverter}, ConverterParameter='#2C5282,White'}"
                    Command="{Binding SwitchTabCommand}"
                    CommandParameter="1"
                    Margin="5"/>
        </Grid>

        <Border Grid.Row="1"
                IsVisible="{Binding IsBookingTabSelected}"
                HorizontalOptions="Center"
                Margin="0,-600,0,0"
                HeightRequest="147"
                WidthRequest="150"
                Stroke="White"
                StrokeThickness="6"
                StrokeShape="RoundRectangle 83"
                ZIndex="1">
            <Image Source="{Binding PractitionerImage, Converter={StaticResource Base64ToImageSourceConverter}}"
                   Aspect="AspectFill"
                   HeightRequest="150"
                   WidthRequest="152"/>
        </Border>

        <!-- Content Area -->
        <Grid Grid.Row="1" Grid.RowSpan="2">
            <Frame BackgroundColor="#EDF2F7" Margin="5,50,5,5" Padding="10" BorderColor="white" CornerRadius="30">
                <!-- Booking Tab Content -->
                

            </Frame>


          
        </Grid>
    </Grid>
</ContentPage>
